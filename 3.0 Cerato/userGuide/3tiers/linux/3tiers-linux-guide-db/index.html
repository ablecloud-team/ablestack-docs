
<!DOCTYPE html>

<html class="no-js" lang="kr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ABLECLOUD Co. Ltd" name="author"/>
<link href="../3tiers-linux-guide-add-manage-vm/" rel="prev"/>
<link href="../3tiers-linux-guide-was/" rel="next"/>
<link href="../../../../assets/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.15" name="generator"/>
<title>DB 구성 - ABLESTACK Online Docs</title>
<link href="../../../../assets/stylesheets/main.113286f1.min.css" rel="stylesheet"/>
<link href="../../../../assets/stylesheets/palette.a0c5b2b5.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:300,300i,400,400i,700,700i%7CCutive+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Noto Sans KR";--md-code-font:"Cutive Mono"}</style>
<link href="../../../../assets/css/basic.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#affinity">
          콘텐츠로 이동
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="ABLESTACK Online Docs" class="md-header__button md-logo" data-md-component="logo" href="../../../.." title="ABLESTACK Online Docs">
<img alt="logo" src="../../../../assets/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            ABLESTACK Online Docs
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              DB 구성
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="red" data-md-color-media="" data-md-color-primary="red" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="검색" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="검색" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="검색" class="md-search__options">
<button aria-label="지우기" class="md-search__icon md-icon" tabindex="-1" title="지우기" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            검색 초기화
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/ablecloud-team/ablestack-docs" title="저장소로 이동">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    ablecloud-team/ablestack-docs
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../..">
      환영합니다
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../architecture/architecture-overview/">
        아키텍처
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../getting-started/getting-started-overview/">
        시작하기
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../administration/cube/userinterface-guide/">
        관리가이드
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../../vms/centos-guide-prepare-vm/">
        레퍼런스 가이드
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../releaseNote/release-cerato/">
        릴리즈노트
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../../troubleshooting/troubleshooting/">
        지식베이스
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="ABLESTACK Online Docs" class="md-nav__button md-logo" data-md-component="logo" href="../../../.." title="ABLESTACK Online Docs">
<img alt="logo" src="../../../../assets/logo.png"/>
</a>
    ABLESTACK Online Docs
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/ablecloud-team/ablestack-docs" title="저장소로 이동">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    ablecloud-team/ablestack-docs
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../..">
        환영합니다
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          아키텍처
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          아키텍처
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          ABLESTACK의 탄생
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_1">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK의 탄생
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/architecture-overview/">
        데이터센터의 역사와 문제점
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/birth-of-ablestack/">
        문제해결방법-ABLESTACK
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          ABLESTACK 물리 아키텍처
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK 물리 아키텍처
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/ablestack-basic-structure/">
        ABLESTACK의 기본구조
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/host-architecture/">
        호스트 아키텍처
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/network-architecture/">
        네트워크 아키텍처
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          ABLESTACK Core
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK Core
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/book-of-cube/">
        Cube 알아보기
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/book-of-cell/">
        Cell 알아보기
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/book-of-glue/">
        Glue 알아보기
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/book-of-mold/">
        Mold 알아보기
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          ABLESTACK Extended
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK Extended
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/book-of-wall/">
        Wall 알아보기
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/book-of-koral/">
        Koral 알아보기
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
          ABLESTACK Service
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK Service
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/book-of-works/">
        Works 알아보기
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../architecture/book-of-genie/">
        Genie 알아보기
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          시작하기
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          시작하기
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../getting-started/getting-started-overview/">
        시작하며
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          ABLESTACK Core
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK Core
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../getting-started/install-guide-cube/">
        Cube 설치 가이드
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../getting-started/install-guide-glue/">
        Glue 설치 가이드
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../getting-started/install-guide-mold/">
        Mold 설치 가이드
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          ABLESTACK Extended
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK Extended
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../getting-started/install-guide-wall/">
        Wall 설치 가이드
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          ABLESTACK Service
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK Service
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../getting-started/install-guide-works/">
        Works 설치 가이드
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../getting-started/install-guide-genie/">
        Genie 설치 가이드
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          ABLESTACK Add Host
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
          ABLESTACK Add Host
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../getting-started/install-guide-add-host/">
        호스트 추가 가이드
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          관리가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          관리가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          Cube 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
          Cube 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/userinterface-guide/">
        사용자 인터페이스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/overview-guide/">
        개요
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/log-guide/">
        기록
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/storage-guide/">
        저장소
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/networking-guide/">
        네트워킹
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/account-guide/">
        계정
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/service-guide/">
        서비스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/ablestack-guide/">
        ABLESTACK
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/update-software-guide/">
        소프트웨어 최신화
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/application-guide/">
        애플리케이션
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/diagnostic-guide/">
        진단 보고서
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/kerneldump-guide/">
        커널 덤프
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/terminal-guide/">
        터미널
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/cube/selinux-guide/">
        SELinux
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          Mold 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          Mold 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/userinterface-guide/">
        사용자 인터페이스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/account-mngt-guide/">
        계정 및 사용자 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/project-mngt-guide/">
        프로젝트 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/serviceoffering-mngt-guide/">
        서비스오퍼링 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/network-mngt-guide/">
        사용자 네트워크 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/vm-mngt-guide/">
        가상머신 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/template%26ISO-mngt-guide/">
        템플릿 및 ISO 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/host-mngt-guide/">
        호스트 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/storage-mngt-guide/">
        스토리지 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/network%26traffic-mngt-guide/">
        네트워크 및 트래픽 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/systemvm-mngt-guide/">
        시스템VM 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/usage-mngt-guide/">
        Usage 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/cloud-mngt-guide/">
        Cloud 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/ha-mngt-guide/">
        고가용성(HA) 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/mold/event-mngt-guide/">
        이벤트 관리
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          Glue 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
          Glue 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/glue/userinterface-guide/">
        사용자 인터페이스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/glue/config-guide/">
        설정
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/glue/account%26role-guide/">
        사용자 및 역할 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/glue/proxyconfig-guide/">
        프록시 설정
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/glue/api-request-audit-guide/">
        API 요청 감사
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/glue/nfs-ganesha-mngt-guide/">
        NFS-Ganesha 관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/glue/plugin-guide/">
        플러그인
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/glue/troubleshooting-guide/">
        문제해결
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          Wall 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
          Wall 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/wall/userinterface-guide/">
        사용자 인터페이스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/wall/dashboard-search/">
        대시보드 검색
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/wall/create/">
        생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/wall/dashboard/">
        대시보드
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/wall/explore/">
        탐색
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/wall/alerting/">
        경고
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/wall/preferences/">
        환경 설정
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/wall/netdive-guide/">
        Netdive
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
          Works 관리자 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
          Works 관리자 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/works/admin-login/">
        관리자 로그인
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/works/admin-dashboard/">
        대시보드
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/works/admin-workspaces/">
        워크스페이스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/works/admin-virtual-machines/">
        가상머신
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/works/admin-user/">
        사용자
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/works/admin-setting/">
        설정
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
          Works 사용자 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_6">
<span class="md-nav__icon md-icon"></span>
          Works 사용자 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/works/user-login/">
        사용자 로그인
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/works/user-desktop/">
        데스크탑
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
          Genie 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_7">
<span class="md-nav__icon md-icon"></span>
          Genie 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/genie/userinterface-guide/">
        사용자 인터페이스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/genie/quick-start/">
        Quick Start
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/genie/views/">
        Views
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/genie/resources/">
        리소스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/genie/access/">
        액세스
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/genie/management/">
        관리
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/genie/configuration/">
        설정
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/system-check/">
        ABLESTACK 시스템점검
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../administration/system-restart/">
        ABLESTACK 시스템 재기동
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          레퍼런스 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          레퍼런스 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
          CentOS 가상머신 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
          CentOS 가상머신 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/centos-guide-prepare-vm/">
        ISO를 이용한 VM/템플릿 생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/centos-guide-add-and-use-vm/">
        템플릿을 이용한 VM 생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/centos-guide-ssh-key-use/">
        비밀번호/SSH Key 관리기능 추가
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/centos-guide-userdata/">
        UserData 적용 기능 추가
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/centos-guide-storage/">
        가상머신 볼륨 사용
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/centos-guide-nics/">
        가상머신 NIC 사용
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
          Ubuntu 가상머신 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          Ubuntu 가상머신 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/ubuntu-guide-prepare-vm/">
        ISO를 이용한 VM/템플릿 생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/ubuntu-guide-add-and-use-vm/">
        템플릿을 이용한 VM 생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/ubuntu-guide-ssh-key-use/">
        비밀번호/SSH Key 관리기능 추가
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/ubuntu-guide-userdata/">
        UserData 적용 기능 추가
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/ubuntu-guide-storage/">
        가상머신 볼륨 사용
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/ubuntu-guide-nics/">
        가상머신 NIC 사용
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
          Windows 가상머신 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
          Windows 가상머신 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/windows-guide-prepare-vm/">
        ISO를 이용한 VM/템플릿 생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/windows-guide-add-and-use-vm/">
        템플릿을 이용한 VM 생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/windows-guide-password-userdata/">
        가상머신 설정 자동화 적용
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/windows-guide-storage/">
        가상머신 볼륨 사용
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../vms/windows-guide-nics/">
        가상머신 NIC 사용
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
          Windows 기반 3Tier 구성 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
          Windows 기반 3Tier 구성 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../windows/windows-guide-architecture/">
        구성 개요
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../windows/windows-guide-network/">
        네트워크 구성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../windows/windows-guide-db/">
        DB 구성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../windows/windows-guide-was/">
        WAS 구성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../windows/windows-guide-web/">
        WEB 구성
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_5_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
          Linux 기반 3Tier 구성 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_5_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_5">
<span class="md-nav__icon md-icon"></span>
          Linux 기반 3Tier 구성 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../3tiers-linux-guide-prepare/">
        구성 개요
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../3tiers-linux-guide-network/">
        네트워크 구성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../3tiers-linux-guide-add-manage-vm/">
        관리 가상머신 구성
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          DB 구성
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        DB 구성
      </a>
<nav aria-label="목차" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      목차
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#affinity">
    Affinity 그룹 생성
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    가상머신 생성
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    데이터 디스크 설정
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    보안 설정
  </a>
<nav aria-label="보안 설정" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    네트워크 방화벽 해제
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#selinux">
    SELinux 설정
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mariadb">
    MariaDB 구성
  </a>
<nav aria-label="MariaDB 구성" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mariadb_1">
    MariaDB 패키지 설치
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mariadb_2">
    MariaDB 보안 설정
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#db-data">
    DB Data 폴더 경로 변경
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#galera-cluster">
    Galera Cluster 구성
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    로드 밸런서(부하 분산) 설정
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../3tiers-linux-guide-was/">
        WAS 구성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../3tiers-linux-guide-web/">
        WEB 서버 구성
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
          Kubernete 구성 가이드
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_6">
<span class="md-nav__icon md-icon"></span>
          Kubernete 구성 가이드
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../kubernetes/kubernetes-cluster-prepare/">
        구성 개요
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../kubernetes/kubernetes-cluster-network-create/">
        네트워크 생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../kubernetes/kubernetes-cluster-iso-add/">
        Kubernetes ISO 등록
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../kubernetes/kubernetes-cluster-create/">
        Cluster 생성
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../kubernetes/kubernetes-cluster-setting/">
        Cluster 설정
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../kubernetes/kubernetes-cluster-shared-volume-create/">
        공유 볼륨 설정
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../kubernetes/kubernetes-cluster-service-add/">
        서비스 배포
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          릴리즈노트
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          릴리즈노트
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../releaseNote/release-cerato/">
        Cerato
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../releaseNote/release-note/">
        Bronto
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          지식베이스
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          지식베이스
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../../troubleshooting/troubleshooting/">
        문제해결사례
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="목차" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      목차
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#affinity">
    Affinity 그룹 생성
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_1">
    가상머신 생성
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    데이터 디스크 설정
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    보안 설정
  </a>
<nav aria-label="보안 설정" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    네트워크 방화벽 해제
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#selinux">
    SELinux 설정
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mariadb">
    MariaDB 구성
  </a>
<nav aria-label="MariaDB 구성" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#mariadb_1">
    MariaDB 패키지 설치
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mariadb_2">
    MariaDB 보안 설정
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#db-data">
    DB Data 폴더 경로 변경
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#galera-cluster">
    Galera Cluster 구성
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    로드 밸런서(부하 분산) 설정
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>DB 구성</h1>
<p>ABLESTACK Mold를 이용한 <strong>이중화를 통한 고가용성 기능을 제공하는 리눅스 기반의 3계층 구조</strong> 의 <a href="../3tiers-linux-guide-prepare#_4" target="_blank">구성 단계</a> 중, 세 번째 단계인 DB 구성에 대한 문서입니다.</p>
<p>MariaDB를 구성하고 동기방식으로 데이터를 복제하는 갈레라 클러스터(Galera Cluster)를 활용하여 3개의 DB 가상머신을 한 클러스터로 이중화 구성하는 방법은 다음과 같은 절차로 수행됩니다.</p>
<ul>
<li>Affinity 그룹 생성</li>
<li>가상머신 생성</li>
<li>데이터 디스크 설정</li>
<li>보안 설정</li>
<li>MariaDB 구성</li>
<li>Galera Cluster 구성</li>
<li>로드 밸런서(부하 분산) 설정</li>
</ul>
<h2 id="affinity">Affinity 그룹 생성<a class="headerlink" href="#affinity" title="Permanent link">¶</a></h2>
<p>가상머신을 생성하기 전, Anti Affinity 그룹을 생성하여 어느하나의 서브넷에 속한 가상머신들이 특정 호스트 한 곳에 몰려 실행하도록 하거나 반대로 몰려 실행되지 않도록 합니다. 이중화를 위해 Affinity 그룹을 anti-affinity 유형으로 WEB, WAS, DB 각각 추가해야합니다. 이를 위해 <strong>컴퓨트 &gt; Affinity 그룹</strong> 화면으로 이동하여 <strong>새 Affinity 그룹 추가</strong> 버튼을 클릭합니다. 클릭하게되면 다음과 같은 입력항목을 확인할 수 있습니다.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="80%" href="../../../../assets/images/3tier-linux-architecture-add-affinity-group.png"><img alt="3tier-linux-architecture-add-affinity-group" class="center" src="../../../../assets/images/3tier-linux-architecture-add-affinity-group.png"/></a></p>
<ul>
<li>이름 : 서브넷을 분별할 수 있는 Affinity 그룹 이름을 입력합니다.</li>
<li>설명 : Affinity 그룹에 대한 설명을 입력합니다.</li>
<li>유형 : Affinity 그룹에 대한 유형을 선택합니다. Anti 여부를 선택할 수 있습니다. </li>
</ul>
<p>새 Affinity 그룹 추가 대화상자에서의 입력 항목 예시는 다음과 같습니다.</p>
<ul>
<li>이름 : <strong>ablecloud-3tier-linux-db</strong></li>
<li>설명 : <strong>3tiers-linux의 db 구성 시 사용되는 Affinity 그룹입니다.</strong></li>
<li>유형 : <strong>anti-affinity (Non-strict)</strong></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Affinity 그룹 유형</p>
<p>host anti-affinity: 가능한 한 서로 다른 호스트에 인스턴스를 배포합니다.</p>
<p>host affinity: 가능한 한 동일한 호스트에 인스턴스를 배포합니다.</p>
<ul>
<li>Non-Strict 옵션은 마지막으로 해당 가상머신을 실행했던 호스트를 고려하지 않고 가상머신을 시작합니다. </li>
</ul>
</div>
<h2 id="_1">가상머신 생성<a class="headerlink" href="#_1" title="Permanent link">¶</a></h2>
<p>ABLESTACK Mold는 기본적으로 템플릿을 이용해 가상머신을 생성하고 사용하는 것을 권장합니다. 따라서 가상머신을 생성하기 전에 먼저 "<a href="../../../vms/centos-guide-prepare-vm/" target="_blank">가상머신 사용 준비</a>" 단계를 통해 CentOS 기반의 가상머신 템플릿 이미지를 생성하여 등록하는 절차를 수행한 후 가상머신을 생성해야 합니다.</p>
<div class="admonition note">
<p class="admonition-title">갈레라 클러스터 구성에 필요한 노드 개수</p>
<p>갈레라 클러스터가 안정적으로 동작하기 위해서는 <strong>적어도 3개의 노드(가상머신)</strong> 가 필요합니다. 3개 이상의 노드로 구성하여 <strong>스플릿 브레인 (Split Brain)</strong> 현상을 방지합니다. 이 현상은 2개의 노드로 클러스터를 구성했을 때 네트워크가 일시적으로 동시에 단절되거나 기타 시스템상의 이유로, 클러스터 상의 모든 노드들이 각자 자신이 Primary라고 인식하게 되는 상황을 뜻합니다. </p>
<p>스플릿 브레인 현상이 발생하면, 각 노드가 동시에 Primary가 되면서 이중 가동 현상이 발생하게 되는데 이 때 각 노드들은 동시에 스토리지에 접근하여 동기화 및 복제에 비정상 적인 트랜잭션이 발생할 수 있으며, 예상하지 못한 다양한 문제로 전체 서비스가 불능 상태에 빠질 수 있습니다. 이를 방지하기 위해 3개 이상의 노드로 클러스터를 구성하는 것을 권장합니다.</p>
</div>
<p>가상머신을 추가하기 위해 <strong>컴퓨트 &gt; 가상머신</strong> 화면으로 이동하여 <strong>가상머신 추가</strong> 버튼을 클릭합니다. <strong>새 가상머신</strong> 마법사 페이지가 표시됩니다. 
해당 페이지에서는 <strong>템플릿을 이용한 가상머신 생성</strong> 문서를 참고하여 가상머신을 생성합니다.</p>
<div class="admonition info">
<p class="admonition-title">템플릿을 이용한 가상머신 생성</p>
<p>템플릿을 이용한 가상머신 추가를 위해 <a href="../../../vms/centos-guide-add-and-use-vm#vm" target="_blank">템플릿을 이용한 가상머신 생성</a> 문서를 참고하십시오.</p>
</div>
<p>입력 항목 예시는 다음과 같습니다.</p>
<ul>
<li>
<p>DB 가상머신 1</p>
<ul>
<li>배포 인프라 선택 : <strong>Zone</strong></li>
<li>템플릿/ISO : <strong>Rocky Linux 9.0 기본 이미지 템플릿</strong> * Rocky Linux release 9.0 (Blue Onyx)</li>
<li>컴퓨트 오퍼링 : <strong>1C-2GB-RBD-HA</strong></li>
<li>데이터 디스크 : <strong>100GB-WB-RBD</strong> * MariaDB의 데이터가 저장되는 경로로 사용됩니다.</li>
<li>네트워크 : <strong>db</strong> * VPC명이 일치하는지 확인합니다.<ul>
<li>IP: <strong>192.168.3.11</strong></li>
</ul>
</li>
<li>SSH 키 쌍 : <strong>3tier_linux_keypair</strong> </li>
<li>확장 모드 : <ul>
<li>Affinity 그룹 :  <strong>ablecloud-3tier-linux-db</strong></li>
</ul>
</li>
<li>이름 : <strong>ablecloud-3tier-linux-db-01</strong></li>
</ul>
</li>
<li>
<p>DB 가상머신 2</p>
<ul>
<li>배포 인프라 선택 : <strong>Zone</strong></li>
<li>템플릿/ISO : <strong>Rocky Linux 9.0 기본 이미지 템플릿</strong> * Rocky Linux release 9.0 (Blue Onyx)</li>
<li>컴퓨트 오퍼링 : <strong>1C-2GB-RBD-HA</strong></li>
<li>데이터 디스크 : <strong>100GB-WB-RBD</strong> * MariaDB의 데이터가 저장되는 경로로 사용됩니다.</li>
<li>네트워크 : <strong>db</strong> * VPC명이 일치하는지 확인합니다.<ul>
<li>IP: <strong>192.168.3.12</strong></li>
</ul>
</li>
<li>SSH 키 쌍 : <strong>3tier_linux_keypair</strong> </li>
<li>확장 모드 : <ul>
<li>Affinity 그룹 :  <strong>ablecloud-3tier-linux-db</strong></li>
</ul>
</li>
<li>이름 : <strong>ablecloud-3tier-linux-db-02</strong></li>
</ul>
</li>
<li>
<p>DB 가상머신 3</p>
<ul>
<li>배포 인프라 선택 : <strong>Zone</strong></li>
<li>템플릿/ISO : <strong>Rocky Linux 9.0 기본 이미지 템플릿</strong> * Rocky Linux release 9.0 (Blue Onyx)</li>
<li>컴퓨트 오퍼링 : <strong>1C-2GB-RBD-HA</strong></li>
<li>데이터 디스크 : <strong>100GB-WB-RBD</strong> * MariaDB의 데이터가 저장되는 경로로 사용됩니다.</li>
<li>네트워크 : <strong>db</strong> * VPC명이 일치하는지 확인합니다.<ul>
<li>IP: <strong>192.168.3.13</strong></li>
</ul>
</li>
<li>SSH 키 쌍 : <strong>3tier_linux_keypair</strong> </li>
<li>확장 모드 : <ul>
<li>Affinity 그룹 :  <strong>ablecloud-3tier-linux-db</strong></li>
</ul>
</li>
<li>이름 : <strong>ablecloud-3tier-linux-db-03</strong></li>
</ul>
</li>
</ul>
<h2 id="_2">데이터 디스크 설정<a class="headerlink" href="#_2" title="Permanent link">¶</a></h2>
<p>안정적인 운영을 위해 기본 RootDisk가 아닌 고용량의 스펙을 가진 디스크로의 데이터 저장이 필요합니다. 이를위한 사전작업으로 가상머신 생성 시 추가했던 데이터 디스크를 설정합니다.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>DB 가상머신 1, 2, 3에 대해 실행 및 설정을 적용합니다.</p>
</details>
<p><code>fdisk -l</code> 명령어를 이용하여 현재 디스크 현황과 파티션 현황을 확인합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>fdisk -l
</code></pre></div></td></tr></table></div></p>
<p><code>fdisk -l</code> 명령어 실행 결과 디스크 <code>/dev/sdb</code>에 아무런 파티션이 없는 상태인 것을 확인합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code>Disk /dev/sda: 100 GiB, 107374182400 bytes, 209715200 sectors
Disk model: QEMU HARDDISK
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0xfc3d5b0c

Device     Boot   Start       End   Sectors Size Id Type
/dev/sda1  *       2048   2099199   2097152   1G 83 Linux
/dev/sda2       2099200 209715199 207616000  99G 8e Linux LVM

<span class="hll">Disk /dev/sdb: 100 GiB, 107374182400 bytes, 209715200 sectors
</span><span class="hll">Disk model: QEMU HARDDISK
</span><span class="hll">Units: sectors of 1 * 512 = 512 bytes
</span><span class="hll">Sector size (logical/physical): 512 bytes / 512 bytes
</span><span class="hll">I/O size (minimum/optimal): 512 bytes / 512 bytes
</span></code></pre></div></td></tr></table></div></p>
<p><code>fdisk</code> 명령어를 이용하여 <code>/dev/sdb</code> 디스크에 파티션 설정을 합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>fdisk /dev/sdb
</code></pre></div></td></tr></table></div></p>
<p><strong>n</strong> 을 입력하여 새로운 파티션을 생성하고 <strong>p</strong> 를 입력하여 주 파티션으로 선택합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>Command (m for help): n
Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): 
</code></pre></div></td></tr></table></div></p>
<p>파티션 번호를 설정하는 단계입니다. 기본 값인 <strong>1</strong> 을 입력하거나 엔터로 넘어갈 수 있습니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>Partition number (1-4, default 1): 
</code></pre></div></td></tr></table></div></p>
<p>시작할 섹터를 지정할 수 있습니다. 기본 값을 입력하거나 엔터로 넘어갈 수 있습니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>First sector (2048-143305919, default 2048): 
Using default value 2048
</code></pre></div></td></tr></table></div></p>
<p>파티션의 용량을 설정합니다. 디스크 전체를 하나의 파티션으로 생성할 경우 기본 값을 입력하거나 엔터로 넘어갈 수 있습니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>First sector (2048-143305919, default 2048): 
Using default value 2048
</code></pre></div></td></tr></table></div></p>
<p><strong>w</strong> 를 입력하여 파티션 정보를 디스크에 적용합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>Command (m for help): w
The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
</code></pre></div></td></tr></table></div></p>
<p><code>fdisk -l</code> 명령어 실행하여 변경된 파티션 정보를 확인합니다. 
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>fdisk -l
</code></pre></div></td></tr></table></div></p>
<p>생성된 파티션 <code>/dev/sdb1</code> 를 확인할 수 있습니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code>Disk /dev/sdb: 100 GiB, 107374182400 bytes, 209715200 sectors
Disk model: QEMU HARDDISK
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x1fd9e01f

<span class="hll">Device     Boot Start       End   Sectors Size Id Type
</span><span class="hll">/dev/sdb1        2048 209715199 207616000 100G 83 Linux
</span></code></pre></div></td></tr></table></div></p>
<p><code>mkfs</code> 명령어를 이용하여 <code>/dev/sdb1</code> 파티션에 xfs 파일 시스템을 생성합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>mkfs.xfs /dev/sdb1
</code></pre></div></td></tr></table></div></p>
<p>정상적으로 파일 시스템이 생성되었는지 <code>fsck -N</code>  명령어를 통해 확인합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>fsck -N /dev/sdb1
</code></pre></div></td></tr></table></div></p>
<p>xfs 파일 시스템이 있는 것을 확인할 수 있습니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>fsck from util-linux 2.37.4
[/usr/sbin/fsck.xfs (1) -- /dev/sdb1] fsck.xfs /dev/sdb1
</code></pre></div></td></tr></table></div></p>
<p><code>/dev/sdb1</code> 파티션을 <code>/mnt/data</code> 경로에 마운트를 적용합니다. 마운트할 경로에 폴더가 없다면 먼저 생성한 후 적절한 권한을 부여한 후 마운트를 적용합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>mkdir /mnt/data
chmod -R 1777 /mnt/data
mount /dev/sdb1 /mnt/data
</code></pre></div></td></tr></table></div></p>
<p>정상 적으로 마운트가 적용되었는지 확인합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>mount | grep "sdb1"
</code></pre></div></td></tr></table></div></p>
<p><code>/mnt/data</code>에 적상적으로 마운트 적용된 것을 확인할 수 있습니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>/dev/sdb1 on /mnt/data type xfs (rw,relatime,seclabel,attr2,inode64,logbufs=8,logbsize=32k,noquota)
</code></pre></div></td></tr></table></div></p>
<p>추가적으로 재부팅 시 자동으로 마운트가 적용되도록 아래 내용을 추가합니다.
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">/etc/fstab</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>/dev/sdb1 /mnt/data xfs defaults 0 0
</code></pre></div></td></tr></table></div></p>
<div class="admonition info">
<p class="admonition-title">CentOS 가상머신의 볼륨 사용 방법</p>
<ul>
<li>CentOS 가상머신에서의 루트 디스크 확장과 데이터 디스크에 대한 추가 사용 방법에 대한 정보는 <a href="../../../../userGuide/vms/centos-guide-storage" target="_blank">CentOS 가상머신 가이드 - 가상머신 볼륨 사용</a> 문서를 참고하십시오.</li>
</ul>
</div>
<h2 id="_3">보안 설정<a class="headerlink" href="#_3" title="Permanent link">¶</a></h2>
<p>생성한 가상머신에 대해 보안 설정을 하여 허용되지 않은 접근을 차단하고 필요한 서비스만 운영할 수 있도록 설정합니다.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>DB 가상머신 1, 2, 3에 대해 실행 및 설정을 적용합니다.</p>
</details>
<h3 id="_4">네트워크 방화벽 해제<a class="headerlink" href="#_4" title="Permanent link">¶</a></h3>
<p>방화벽은 들어오고 나가는 네트워크 트래픽을 모니터링하고 필터링하는 방법입니다. 특정 트래픽을 허용할지 차단할지 결정하는 일련의 보안 규칙을 정의하여 작동합니다.
CentOS 운영체제에서는 firewald라는 이름의 방화벽 데몬과 함께 해당 기능이 제공됩니다.</p>
<p><code>firewall-cmd</code> 명령어를 이용하여 galera 서비스에 대한 방화벽을 해제하고 <code>--permanent</code> 옵션을 사용하여 영구적으로 적용합니다. 
<div class="highlight"><pre><span></span><code>firewall-cmd --zone=public --permanent --add-service=galera
firewall-cmd --reload
</code></pre></div></p>
<details class="info" open="open">
<summary>Info</summary>
<p>galera 서비스는 TCP 포트 3306, 4567, 4568, 4444와 UDP포트 4567을 사용합니다.</p>
</details>
<h3 id="selinux">SELinux 설정<a class="headerlink" href="#selinux" title="Permanent link">¶</a></h3>
<p>보안강화 리눅스(SELinux; Security Enhanced Linux)는 CentOS에서 제공하는 커널 기반의 보안 모듈입니다. 즉, 시스템 관리자가 설정한 특정 정책 및 규칙으로 사용자를 제한하는 데 사용되는 기능 또는 서비스입니다.
Galera Cluster의 설정을 원활하고 효율적으로 하기 위해 SELinux 정책을 변경합니다.</p>
<p>SELinux 정책을 생성하여 관련 포트와 서비스를 허용하도록 변경합니다.
<div class="highlight"><pre><span></span><code>semanage port -a -t mysqld_port_t -p tcp 4567
semanage port -a -t mysqld_port_t -p tcp 4568
semanage port -a -t mysqld_port_t -p tcp 4444

semanage permissive -a mysqld_t
</code></pre></div></p>
<details class="warning" open="open">
<summary>Warning</summary>
<p>SELinux를 부적절하 허용또는 비활성화하게 되면 권한 상승 공격에 의한 "취약점 감소"와 잘못된 설정과 버그로부터의 "시스템 보호"와 같은 이점들을 제공받지 못할 수 있습니다.</p>
</details>
<h2 id="mariadb">MariaDB 구성<a class="headerlink" href="#mariadb" title="Permanent link">¶</a></h2>
<p>MariaDB는 MySQL 기술을 기반으로 하는 오픈소스입니다. Galera Cluster에서 제공하는 이중화 복제 방식은 여러 MariaDB 서버를 구성하여 이루어집니다.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>DB 가상머신 1, 2, 3에 대해 실행 및 설정을 적용합니다.</p>
</details>
<h3 id="mariadb_1">MariaDB 패키지 설치<a class="headerlink" href="#mariadb_1" title="Permanent link">¶</a></h3>
<p>특정 버전의 MariaDB 패키지를 설치하기 위해 Yum Repository를 추가해야합니다.</p>
<p>가상머신의 운영체제가 Rocky Linux 9.0의 경우 아래의 내용을 추가합니다.
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">/etc/yum.repos.d/mariadb.repo</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code># MariaDB 10.9 RedHat repository list - created 2022-11-30 05:38 UTC
# https://mariadb.org/download/
[mariadb]
name = MariaDB
baseurl = https://tw1.mirror.blendbyte.net/mariadb/yum/10.9/rhel9-amd64
gpgkey=https://tw1.mirror.blendbyte.net/mariadb/yum/RPM-GPG-KEY-MariaDB
gpgcheck=1
</code></pre></div></td></tr></table></div></p>
<details class="tip" open="open">
<summary>Tip</summary>
<p>다른 운영체제인 경우 <a href="https://mariadb.org/download/?t=repo-config" target="_blank">MariaDB Repository Link</a> 를 클릭하여 확인한 후 적용합니다.</p>
</details>
<p>패키지 관리 명령어인 <strong>dnf</strong> 를 사용하여 MariaDB 패키지를 설치합니다.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>dnf install MariaDB-server MariaDB-client
</code></pre></div></td></tr></table></div></p>
<p>가상머신 부팅 시 설치된 MariaDB 서비스를 자동 시작하도록 등록하고 시작합니다.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>systemctl enable mariadb.service
systemctl start mariadb.service
</code></pre></div></td></tr></table></div>
<h3 id="mariadb_2">MariaDB 보안 설정<a class="headerlink" href="#mariadb_2" title="Permanent link">¶</a></h3>
<p>MariaDB 서비스를 시작한 후 아래의 명령어를 통해 MariaDB의 초기 권한 설정을 시작합니다.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>mariadb-secure-installation
</code></pre></div></td></tr></table></div>
<p>아래의 내용에 따라 초기 권한 설정을 수행합니다.</p>
<details class="note">
<summary>클릭하여 MariaDB의 보안설정 방법을 확인합니다.</summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code>Enter current password for root (enter for none):  [엔터를 입력합니다.]
OK, successfully used password, moving on...

※ 이 부분은 버전에 따라 표기되지 않을 수 있습니다.
Setting the root password or using the unix_socket ensures that nobody
can log into the MariaDB root user without the proper authorisation.

You already have your root account protected, so you can safely answer 'n'.
Switch to unix_socket authentication [Y/n] Y  [MariaDB 실행 시 통신 소켓 생성 여부를 선택합니다. Y를 선택합니다.]



Enabled successfully!
Reloading privilege tables..
... Success!


You already have your root account protected, so you can safely answer 'n'.

Change the root password? [Y/n] Y  [DB ROOT 패스워드 설정할 것인지 선택합니다. Y를 선택합니다.]

New password:  패스워드 입력
Re-enter new password:  재확인 패스워드 입력
Password updated successfully!
Reloading privilege tables..
... Success!

By default, a MariaDB installation has an anonymous user, allowing anyone
to log into MariaDB without having to have a user account created for
them.  This is intended only for testing, and to make the installation
go a bit smoother.  You should remove them before moving into a
production environment.

Remove anonymous users? [Y/n] Y  [익명의 접근을 막을 것인지 선택합니다. 보안을 위해 Y 또는 편의를 위해 N을 선택합니다.]
... Success!


Normally, root should only be allowed to connect from 'localhost'.  This
ensures that someone cannot guess at the root password from the network.

Disallow root login remotely? [Y/n] Y  [DB ROOT 원격을 막을 것인지 선택합니다. 보안을 위해 Y 또는 편의를 위해 N을 선택합니다.]

... Success!

By default, MariaDB comes with a database named 'test' that anyone can
access.  This is also intended only for testing, and should be removed
before moving into a production environment.

Remove test database and access to it? [Y/n] Y

[Test 용으로 생성된 데이터베이스를 삭제할 것인지 선택합니다. Y를 선택합니다]

- Dropping test database...
... Success!
- Removing privileges on test database...
... Success!

Reloading the privilege tables will ensure that all changes made so far
will take effect immediately.

Reload privilege tables now? [Y/n] Y  [현재 설정한 값을 적용할 것인지 선택합니다. Y를 선택합니다

... Success!

Cleaning up...

All done!  If you've completed all of the above steps, your MariaDB
installation should now be secure.

Thanks for using MariaDB!  [설정 완료]
</code></pre></div></td></tr></table></div>
</details>
<p>외부에서 DB에 접속 가능하도록 아래의 쿼리를 통해 설정합니다.</p>
<p><code>mariadb -u root -p</code> 명령어를 실행한 후 패스워드를 입력하여 MariaDB에 접속합니다. 
<div class="highlight"><pre><span></span><code>mariadb -u root -p

Enter password: 패스워드 입력
</code></pre></div></p>
<p>모든 DB 및 테이블에 대한 접근권한을 설정합니다. 보안을 위해 특정 IP 대역 접근만을 허용합니다.
<div class="highlight"><pre><span></span><code>MariaDB [(none)]&gt; use mysql;
MariaDB [(none)]&gt; grant all privileges on *.* to 'root'@'192.168.%.%'identified by '패스워드 입력';
MariaDB [(none)]&gt; flush privileges;
</code></pre></div></p>
<h3 id="db-data">DB Data 폴더 경로 변경<a class="headerlink" href="#db-data" title="Permanent link">¶</a></h3>
<p>추가한 데이터 디스크로 DB 폴더를 변경하기 위해 먼저 기존 DB data 폴더 경로를 확인합니다.</p>
<p>MariaDB에 접속합니다.
<div class="highlight"><pre><span></span><code>mariadb -u root -p

Enter password: 패스워드 입력
</code></pre></div></p>
<p>DB data 경로를 확인합니다.</p>
<div class="highlight"><pre><span></span><code>MariaDB [(none)]&gt; select @@datadir;
</code></pre></div>
<p>MariaDB에서 로그아웃한 후 MariaDB 서비스를 정지합니다.
<div class="highlight"><pre><span></span><code>systemctl stop mariadb
</code></pre></div></p>
<p>새로운 Data 디렉토리에 데이터를 복사합니다. 현 예시에서는 경로가 <code>/var/lib/mysqld</code>에서 <code>/mnt/data/mysql</code> 로 변경합니다.
<div class="highlight"><pre><span></span><code>rsync -av /var/lib/mysql /mnt/data/
chown -R mysql:mysql /mnt/data/mysql
</code></pre></div></p>
<p>my.cnf 파일을 수정하여 MariaDB의 data 디렉토리 경로를 변경합니다.
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">/etc/my.cnf.d/server.cnf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>[mysqld]
datadir=/mnt/data/mysql
socket=/mnt/data/mysql/mysql.sock

[client]
port=3306
socket=/mnt/data/mysql/mysql.sock
</code></pre></div></td></tr></table></div></p>
<p>SELinux 보안 설정 및 context 추가
<div class="highlight"><pre><span></span><code>semanage fcontext -a -t mysqld_db_t "/mnt/data/mysql(/.*)?"
restorecon -R /mnt/data/mysql
</code></pre></div></p>
<p>MariaDB 서비스를 시작합니다.
<div class="highlight"><pre><span></span><code>systemctl restart mariadb
</code></pre></div></p>
<p>MariaDB에 접속한 후 변경된 DB data 경로를 확인합니다.
<div class="highlight"><pre><span></span><code>MariaDB [(none)]&gt; select @@datadir;
</code></pre></div></p>
<p>경로가 정상적으로 변경되었다면 기존 data 폴더를 삭제합니다.
<div class="highlight"><pre><span></span><code>rm -R /var/lib/mysql
</code></pre></div></p>
<h2 id="galera-cluster">Galera Cluster 구성<a class="headerlink" href="#galera-cluster" title="Permanent link">¶</a></h2>
<p>MariaDB는 기존의 Replication 방식이 아닌 Galera를 이용한 클러스터 구성으로 Master-Master 형식의 다중화 기능을 제공합니다.
이러한 동작방식으로 모든 DB 가상머신의 데이터가 일관성있게 저장되고 장애 발생 시 대응하기에 용이한 장점이 있습니다.</p>
<p>MariaDB에서 제공하는 Galera Cluster를 사용하기 위해 아래의 절차를 통해 설정합니다.</p>
<p>MariaDB 서비스를 중지합니다.
<div class="highlight"><pre><span></span><code>systemctl stop mariadb.service
</code></pre></div></p>
<p>아래 예시를 참고하여 MariaDB 설정 정보를 변경합니다.</p>
<details class="note">
<summary>클릭하여 MariaDB의 설정 정보를 확인합니다.</summary>
<div class="highlight"><table class="highlighttable"><tr><th class="filename" colspan="2"><span class="filename">/etc/my.cnf.d/server.cnf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code>[galera]
# galear cluster 사용여부
wsrep_on = ON
# libgalera_smm.so 모듈 위치
<span class="hll">wsrep_provider = /usr/lib64/galera-4/libgalera_smm.so
</span># 동기화 진행할 IP 리스트 (Master Node 1, 2, 3의 Public IP값을 입력합니다.)
<span class="hll">wsrep_cluster_address = gcomm://192.168.3.11, 192.168.3.12, 192.168.3.13
</span># 기본 스토리지 엔진
default_storage_engine=InnoDB
# auto increment의 값 잠금방식 (0/1/2 중 택)
innodb_autoinc_lock_mode=2
# IP 접근설정
bind-address=0.0.0.0
# 바이너리 로그파일 형식
binlog_format = ROW
# log 사용여부
general_log=ON
# log 위치 설정
log-error=/var/lib/mysql/error.log
# 동기화할 노드들의 그룹명 (노드마다 동일하게 설정)
<span class="hll">wsrep_cluster_name = Cluster
</span></code></pre></div></td></tr></table></div>
</details>
<p>Galera Cluster의 모든 DB Node들이 Master DB(Primery)의 역활을 하지만 그중에서도 최초로 초기 Data을 제공하는 Node가 Donor, 그 외 Node들을 Joiner로 지정됩니다.
먼저 Donor Node로 사용할 DB 가상머신 1의 galera cluster를 <code>galera_new_cluster</code> 명령어로 시작합니다. 실행이 완료될 때까지 기다린 후, 다음 단계로 넘어갑니다.
<div class="highlight"><pre><span></span><code>galera_new_cluster
</code></pre></div></p>
<details class="warning" open="open">
<summary>Warning</summary>
<p>DB 가상머신의 시작 순서에 유의하여 아래 명령어를 실행합니다. Donor Node인 가상머신이 가장 먼저 시작되어야 합니다. </p>
</details>
<p>DB 가상머신 2와 3의 MariaDB 서비스를 시작합니다.
<div class="highlight"><pre><span></span><code>systemctl restart mariadb.service
</code></pre></div></p>
<p>Galera Cluster 구성이 정상적으로 되었는지 확인합니다.</p>
<p>MariaDB에 접속합니다.
<div class="highlight"><pre><span></span><code>mariadb -u root -p

Enter password: 패스워드 입력
</code></pre></div>
갈레라 클러스터를 구성하는 전체 노드의 IP 주소 목록을 확인합니다.
<div class="highlight"><pre><span></span><code>MariaDB [(none)]&gt; show variables like 'wsrep_cluster_address';
</code></pre></div>
출력된 결과 값을 확인합니다. </p>
<div class="highlight"><pre><span></span><code>+-----------------------+--------------------------------------------------+
| Variable_name         | Value                                            |
+-----------------------+--------------------------------------------------+
| wsrep_cluster_address | gcomm://192.168.3.11, 192.168.3.12, 192.168.3.13 |
+-----------------------+--------------------------------------------------+
</code></pre></div>
<p>하나의 DB 가상머신에서 "testdb" 라는 이름의 테스트용 데이터 베이스를 생성합니다.
<div class="highlight"><pre><span></span><code>MariaDB [(none)]&gt; create database testdb;
</code></pre></div></p>
<p>"testdb" 데이터 베이스에 "member" 테이블을 생성합니다.
<div class="highlight"><pre><span></span><code>MariaDB [(none)]&gt; create table testdb.member
(
    idx      int auto_increment
        primary key,
    userid   varchar(255) not null,
    password varchar(255) not null,
    email    text         null,
    salt     varchar(255) null
);
</code></pre></div></p>
<details class="info" open="open">
<summary>Galera Cluster 복구 절차</summary>
<p>Galera Cluster 운영 시, 데이터 베이스에 문제가 발생하여 복구하거나 어떠한 이유로 재시작해야할 경우 아래의 절차를 따라 재기동합니다.</p>
<ul>
<li>
<p>Joiner 노드 (DB 가상머신 2, 3)에서 장애 발생한 경우</p>
<ol>
<li>장애가 발생한 노드에서 <code>galera_recovery</code> 명령을 실행합니다.</li>
<li>동일 노드에서 <code>systemctl start mariadb.service</code> 명령으로 Mariadb 서비스를 다시 시작합니다.</li>
</ol>
</li>
<li>
<p>Donor 노드 또는 클러스터 전체에 장애 발생한 경우</p>
<ol>
<li>grastate.dat 확인<ul>
<li>"seqno" 값이 가장 높고 "safe_to_bootstrap" 값이 "1"인 노드가 가장 마지막에 종료된 노드이므로 이 노드를 Donor로 설정하고 복구를 진행합니다. 모든 노드의 safe_to_bootstrap값이 -1로 동일하면 하나의 노드를 특정하여 1로 수정합니다. 
<div class="highlight"><pre><span></span><code>$ cat /mnt/data/mysql/grastate.dat

# GALERA saved state
version: 2.1
uuid:    UUID값
seqno:   -1 =&gt; 0 으로 수정                     
safe_to_bootstrap: 0 =&gt; 1 (Doner 노드일 경우), 0 (Joner 노드일 경우)
</code></pre></div></li>
</ul>
</li>
<li>Galera Cluster 재시작<ul>
<li>복구 기준이 되는 노드(새로운 Donor Node)에서 <code>galera_new_cluster</code> 명령으로 Galera Cluster를 재시작합니다.</li>
<li>복구 기준이 되는 Donor노드가 가장 앞에 오도록 모든 Node의 <code>server.cnf</code>의  <code>wsrep_cluster_address</code> IP 주소 값의 순서를 변경합니다. 
    <div class="highlight"><pre><span></span><code>$ cat /etc/my.cnf.d/server.cnf
...
wsrep_cluster_address = gcomm://192.168.3.13(새로운 Donor Node), 192.168.3.12, 192.168.3.11
...
</code></pre></div></li>
<li>나머지 각 노드에서 <code>systemctl restart mariadb.service</code> 명령으로 Mariadb 서비스를 다시 시작합니다.</li>
</ul>
</li>
</ol>
</li>
</ul>
<p>"grastate.dat" 파일에서의 uuid 값이 0000000 일 경우에는 <code>--wsrep-cluster-address</code> 옵션을 실행하여 노드가 현재 클러스터에 대한 연결을 닫고 새 주소에 다시 연결하도록 합니다. 사용 예시는 아래와 같습니다.
<div class="highlight"><pre><span></span><code>mysqld -u root --wsrep-cluster-address='gcomm://192.168.3.11,192.168.3.12,192.168.3.13'
</code></pre></div></p>
</details>
<h2 id="_5">로드 밸런서(부하 분산) 설정<a class="headerlink" href="#_5" title="Permanent link">¶</a></h2>
<p>Mold 사용자 또는 관리자는 서브넷에서 수신된 트래픽을 해당 서브넷 내의 여러 가상머신간에 부하 분산되도록 규칙을 만들 수 있습니다. 예를 들어 DataBase 계층에 도달한 트래픽은 해당 DB 서브넷의 다른 가상머신으로 리디렉션됩니다.
로드 밸런서를 설정하면 Health Check를 통해 장애 여부를 판단하고 노드에 이상이 발생하면 다른 정상 동작중인 노드로 트래픽을 보내주는 Fail-over가 가능합니다. 
내부 로드 밸런서 규칙 생성을 위해 아래 문서를 참고합니다.</p>
<div class="admonition info">
<p class="admonition-title">내부 로드 밸런서 규칙 생성</p>
<p>템플릿을 이용한 가상머신 추가를 위해 <a href="../../../../administration/mold/network&amp;traffic-mngt-guide#vpc_2" target="_blank">내부 로드 밸런서 규칙 생성</a> 문서에서 <strong>내부 LB 규칙 생성</strong> 항목을 참고하십시오.</p>
</div>
<p>입력 항목 예시는 다음과 같습니다.</p>
<ul>
<li>이름 : <strong>db-lb</strong></li>
<li>설명 : <strong>DataBase의 내부 로드 밸런서입니다.</strong></li>
<li>소스 IP 주소 : <strong>192.168.3.26</strong></li>
<li>소스 포트 : <strong>3306</strong> </li>
<li>가상머신 포트 : <strong>3306</strong> </li>
<li>알고리즘 : <strong>최소 접속</strong> </li>
</ul>
<p>생성된 내부 로드 밸런서 규칙을 선택한 후, <strong>가상머신 할당</strong> 버튼을 클릭하여 DB 가상머신을 할당합니다.</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="80%" href="../../../../assets/images/3tier-linux-architecture-db-lb-01.png"><img alt="가상머신 할당" class="center" src="../../../../assets/images/3tier-linux-architecture-db-lb-01.png"/></a></p>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            맨위로
          </a>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2021-2023 ABLECLOUD Co. Ltd.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/ablecloud-team" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.top", "navigation.tracking", "content.code.annotate", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub428", "clipboard.copy": "\ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac", "search.result.more.one": "\uc774 \ubb38\uc11c\uc5d0\uc11c 1\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.more.other": "\uc774 \ubb38\uc11c\uc5d0\uc11c #\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.none": "\uac80\uc0c9\uc5b4\uc640 \uc77c\uce58\ud558\ub294 \ubb38\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4", "search.result.one": "1\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.other": "#\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.placeholder": "\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694", "search.result.term.missing": "\ud3ec\ud568\ub418\uc9c0 \uc54a\uc740 \uac80\uc0c9\uc5b4", "select.version": "\ubc84\uc804 \uc120\ud0dd"}, "version": {"provider": "mike"}}</script>
<script src="../../../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>