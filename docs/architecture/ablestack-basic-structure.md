ABLESTACK은 전통적인 데이터센터의 문제점을 해결하여 새로운 개념의 데이터센터를 기업에 제공하기 위해 x86 기반의 일반 상용(Off-the-shelf) 서버와 다양한 소프트웨어를 결합합니다. 이러한 결합을 위해서는 단순히 하드웨어에 소프트웨어를 설치하는 것이 아닌 ABLESTACK이 설계한 최적의 아키텍처가 적용돼야 합니다. 본 문서에서는 ABLESTACK의 상세한 아키텍처를 살펴보기 전에 전체적인 구성요소와 구성요소의 역할에 대해 설명하고자 합니다. 

ABLESTACK은 다양한 기술을 적용해서 상용 서버에 적용하기 위해 크게 5개의 구성요소로 이루어져 있습니다. 다음과 같습니다. 

- ABLESTACK
    - Wall : 인프라 전체에 대한 모니터링, 알람 등을 위한 통합 모니터링 플랫폼
    - Mold : 가상머신 관리 및 소프트웨어 정의 네트워크, 오케스트레이션 및 오토메이션을 제공하는 클라우드 플랫폼
    - Cell : 서버 가상화를 지원하는 가상화 하이퍼바이저
    - Glue : 소프트웨어 정의 스토리지를 통해 통합 스토리지를 제공하고, 다양한 게이트웨이를 제공하는 스토리지 플랫폼
    - Cube : x86 기반의 서버에 Linux Kernel을 제공하고, 호스트 관리 환경을 제공하는 서버 OS

위와 같은 일반적인 구성요소는 ABLESTACK을 어떤 구조로 배포하느냐에 따라 구성요소가 달라질 수 있습니다. ABLESTACK는 배포 구조에 따라 전통적인 서버 - 외장스토리지(SAN, iSCSI, NFS 등)의 구성을 사용하는 ABLESTACK VM, 서버에 연결되어 있는 로컬 디스크 만을 이용한 구성을 제공하는 ABLESTACK HCI로 나뉘어 집니다. 

ABLESTACK VM은 외장 스토리지를 사용하기 때문에 소프트웨어 정의 스토리지 구성요소인 Glue는 사용되지 않으며 다음의 그림은 ABLESTACK VM 플랫폼의 전체적인 구조를 보여줍니다. 

<center>
![ablestack-platform-architecture](../assets/images/ablestack-vm-platform-architecture.png)
</center>

ABLESTACK HCI는 내장된 디스크를 이용해 스토리지를 구성하고 읿반적으로 전통적인 외장 스토리지는 사용하지 않기 때문에 소프트웨어 정의 스토리지인 Glue를 사용합니다. 다음의 그림은 ABLESTACK HCI 플랫폼의 전체적인 구조를 보여줍니다. 

<center>
![ablestack-platform-architecture](../assets/images/ablestack-platform-architecture.png)
</center>

각각의 구성요소의 주요 내용과 특징은 다음과 같습니다. 

## Cube : 호스트용 Linux OS

Cube는 ABLESTACK 클러스터를 구성하는 호스트에 설치하기 위한 Linux OS입니다. 설치 미디어를 호스트에 장착하고, 설치를 시작하면 GUI 형태의 설치 마법사를 이용해 바로 OS를 설치할 수 있습니다. 이 설치 과정에서 ABLESTACK을 구동하기 위한 소프트웨어가 자동으로 설치됩니다. 

ABLESTACK Cube는 다음과 같은 주요 기능과 특징을 가집니다. 

### Downstream Linux OS

Cube는 엔터프라이즈 환경에서 안정적인 운영 환경을 제공하기 위해 Enterprise Linux OS의 다운스트림 RockyLinux를 기반으로 합니다. 다운스트림 OS란 상용으로 릴리즈되어 엔터프라이즈 환경에서 운영되는 제품의 형상을 그대로 사용하여 배포되는 OS를 의미합니다. 

그만큼 매우 안정적입니다. 또한 업스트림에서 발생한 이슈가 다운스트림에 자동으로 적용되기 때문에 언제든 최적의 상태를 사용자에게 제공할 수 있습니다. 

### 웹 기반 호스트 관리 기능 제공

Cube를 호스트에 설치하면 바로 웹 기반의 호스트 관리 기능을 사용할 수 있습니다. 웹 브라우저를 통해 실행되기 때문에 어떤 하드웨어에서도 기능을 사용할 수 있습니다. 호스트에 대한 기본적인 정보 조회, 호스트의 디스크 장치 및 네트워크 장치에 대한 관리, 호스트에서 실행 중인 가상머신 관리, 서비스 관리, ABLESTACK 관리 기능 등을 웹에서 모두 사용할 수 있습니다. 

### ABLESTACK 배포 마법사

Cube의 웹 기반 관리 기능을 통해 ABLESTACK을 마법사를 이용해 쉽게 배포할 수 있습니다. 마법사 페이지에서 제시하는 정보를 입력하고 선택해서 바로 ABLESTACK 클러스터를 구성할 수 있기 때문에 빠르게 구성이 가능하고, 바로 모든 기능을 사용할 수 있습니다. 

## Glue : SW정의 스토리지

!!! info "ABLESTACK VM 구성요소에서 제외"
    Glue는 호스트의 내장 디스크를 클러스터링 하여 고가용성 외장 스토리지를 제공하기 위한 구성요소입니다. ABLESTACK VM은 외장 스토리지를 이용해 서버가상화 및 클라우드 환경을 구성하는 제품으로 해당 제품에는 Glue를 사용하지 않습니다. 

Glue는 ABLESTACK을 구성하는 물리적인 호스트에 장착된 디스크를 소프트웨어로 정의하여 스토리지를 제공하는 구성요소입니다. Glue는 간단하며 대규모 확장이 가능한 스토리지 플랫폼으로 ABLESTACK의 가상머신 볼륨 뿐 아니라 고성능이 필요한 현대적인 데이터 파이프라인에 적합합니다. 데이터 분석, 인공지능/머신러닝, 이머징 워크로드 등을 위해 설계된 스토리지로 다음과 같은 이점을 가집니다. 

### 대규모 확장 지원

10억개 이상의 오브젝트, 4PB 이상의 데이터를 처리할 수 있는 Glue는 용량과 성능을 함께 확장할 수 있으므로 대규모 설치 환경 및 오늘날의 방대한 데이터 요구사항에 최적화된 스토리지 입니다. 다양한 프론트엔트 기능을 적용하여 이전 세대의 소프트웨어 정의 스토리지의 2배에 달하는 성능을 제공하기 때문에 가상머신 운용 및 이머징 데이터 처리 시간을 단축할 수 있습니다. 

### 설치 및 운영 간소화

Glue는 ABLESTACK과 완벽하게 통합될 뿐 아니라, VMWare, XenServer, Hyper-V, OpenStack, Container 등과 긴밀하게 통합 가능하기 때문에 설치 및 업그레이드가 더 용이하고, ABLESTACK을 통해 리소스를 중앙에서 편리하게 관리하면서 사용률을 극대화 할 수 있습니다. 통합 모니터링 대시보드를 제공해 Glue를 잘 모르는 사용자도 5분 이내에 시작할 수 있을 만큼 간단하며, 모든 자원을 모니터링하고 시각적으로 보여줍니다. 

### 이머징 워크로드 처리 기능

오늘날 스토리지는 다양한 워크로드 처리를 요구 받습니다. Glue는 모든 IO가 호스트 측에서 발생하는 Data Locality(Host Side Caching)을 지원하여 초고속의 IO을 보장하며, 이를 통해 가상머신 볼륨 뿐 아니라 Big Data, AI, IoT 등 최신의 워크로드를 처리하는 데 충분한 기능을 제공합니다. 

### 자가 치유 및 관리

Glue는 고객이 선택한 업계 표준 하드웨어에 소프트웨어 정의 스토리지를 제공합니다. 모든 데이터를 효율적으로 자동관리하며, 압축, 중복제거 등의 효율적 관리 기능을 제공합니다. 또한 일부 장치의 장애가 발생하는 경우에도 자가 치유 프로세스를 통해 장애를 복구하여 장애가 발생한 장치로 인한 다운타임이 발생하지 않습니다. 

## Cell : 하이퍼바이저

Cell은 엔터프라이즈 가상화 플랫폼으로서, 리소스 집약적인 크리티컬 애플리케이션과 같은 주요 가상화 워크로드를 지원합니다. 일반 가상화 뿐 아니라, 클라우드 네이티브 및 컨테이너화된 환경을 지원하는 안정적인 기반을 제공하기 때문에 서버 가상화, 데스크톱 가상화, 네트워크 기능 가상화 등 다양한 가상화 워크로드를 대응할 수 있습니다. 

### 워크로드 성능 개선

Cell은 커널 기반으로 Linux와 Windows 워크로드를 가상화합니다. 이러한 특성은 기존의 독점 가상화 솔루션을 사용했을 때에 비해 VM 성능 수준이 더 높았으며, 특히 Linux 워크로드의 경우 두드러진 성능 향상을 제공합니다. 이러한 워크로드 성능 향상을 통해 하드웨어도 최적화 되기 때문에 교체 주기도 길어져 전반적인 비용을 절감합니다. 

### 크로스 플랫폼 통합

Cell 가상화 플랫폼을 단일하게 사용해서 수백 개의 서로 다른 하드웨어 또는 소프트웨어를 통해 수백 개의 가상머신을 생성, 시작, 중지, 일시 중지, 마이그레이션하거나 템플릿을 작성할 수 있습니다. 특정 하드웨어에 종속되지 않고, 또한 같은 클러스터의 호스트 조차도 동일한 타입의 하드웨어일 필요가 없는 높은 유연성을 제공합니다. 

### 간편한 설정 및 관리

직관적인 웹 기반 도구 및 CLI, GUI 등을 통해 Cell을 신속하게 사용할 수 있으며, 다른 벤더 제품으로부터의 마이그레이션도 자동화 할 수 있습니다. 또한 직관적인 UI를 통해 수십개 또는 수백개의 가상머신의 생명 주기를 관리할 수 있을 뿐 아니라 언제든지 다른 호스트로 마이그레이션 할 수 있습니다. 

## Mold : 클라우드 플랫폼

Mold는 가용성이 높고 확장성이 뛰어난 IaaS 클라우드 플랫폼으로, 대규모 가상머신 및 네트워크를 배포하고 관리하도록 설계된 플랫폼입니다. Mold는 컴퓨팅 오케스트레이션, 서비스로서의 네트워크, 사용자 및 계정 관리, 개방형 네이티브 API, 사용량 관리 및 리소스 회계 관리와 같이 대부분의 기업이 원하는 전체 기능을 포함하고 있습니다. 

### 멀티 하이퍼바이저 지원

Mold는 ABLESTACK의 Cell 뿐 아니라 다양한 엔터프라이즈급의 하이퍼바이저를 지원합니다. VMWare, Citrix Hypervisor, KVM 등의 하이퍼바이저를 지원합니다. 이러한 하이퍼바이저 기반에서 모든 기능을 동일하게 지원하기 때문에 기업 내의 모든 가상화 클러스터를 통합하여 관리할 수 있기 때문에 운영 효율성과 유연성을 높일 수 있습니다. 

### 마이크로세그멘테이션 오버레이 네트워크

Mold의 가장 강력한 기능은 자유롭게 다양한 네트워크를 생성하고, 모든 기능을 웹에서 컨트롤 할 수 있다는 것입니다. 라우터를 제공하며, 무수한 서브넷을 생성할 수 있고, 라우팅 및 방화벽, NAT, VPN, Security Group 등을 생성하고 관리함으로써 외부 및 가상머신 간의 트래픽을 효과적으로 통제할 수 있습니다. 사용자별로 격리된 네트워크를 제공하고, 가상머신 간의 네트워크 흐름을 완벽하게 통제함으로써 마이크로세그멘테이션을 제공하여 안전한 가상머신 운영을 보장합니다. 

### 자동화 및 오케스트레이션

Mold는 강력한 자동화 및 오케스트레이션 기능을 내장하고 있습니다. 사용자는 빠르게 가상머신을 배포하고 애플리케이션을 설정할 수 있습니다. 미리 정의된 규칙에 의해 가상머신을 생성하고 관리하기 때문에 시스템의 일관성을 유지할 수 있어 관리 효율성을 높일 수 있습니다. 

### 가상머신 및 컨테이너 지원

Mold는 가상머신 뿐 아니라 최신 가상화 기술인 컨테이너를 지원합니다. Kubernetes 클러스터를 자동으로 배포하고, 관리화면을 통해 컨테이너로 만들어진 애플리케이션을 바로 배포하고 실행할 수 있습니다. 사용자는 Mold를 통해 어떠한 형태의 애플리케이션이든 실행할 수 있습니다. 

## Wall : 모니터링 플랫폼

Wall은 ABLESTACK의 강력한 모니터링 플랫폼입니다. 호스트 및 가상머신에 대한 실시간 상태를 확인할 수 있고 기간별 인사이트를 제공합니다.

### 강력한 실시간 시각화

호스트 및 가상머신 등의 자원에 대한 강력한 실시간 시각화를 제공합니다. 사용자는 현재 상태의 호스트와 가상머신에 대한 실시간 그래프를 보며 상태를 조회할 수 있어 효율적인 모니터링이 가능합니다. 

### 기간별 인사이트 제공

호스트 및 가상머신 등의 자원에 대한 모니터링 정보를 기간별로 선택하여 분석할 수 있으며 언제든지 파일로 다운로드 할 수 있습니다. 

### 인공지능 분석

인공지능을 이용해 호스트 및 가상머신의 모니터링 정보를 분석/학습하여 사용량을 예측하고, 데이터를 제공함으로써 시스템 확장을 적절하게 미리 준비할 수 있습니다. 

### 이슈 발생 알람

중요한 항목에 알람 설정을 통해 이슈가 발생하면 이메일, Slack, OpsGenie 등의 다양한 채널을 통해 알람을 받을 수 있습니다. 
